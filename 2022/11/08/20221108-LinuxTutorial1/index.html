<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
       
      <meta name="keywords" content="TRPG, pathfinder, Peking University" />
       
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>Tutorial:从零开始的Linux使用【1】 |  沙</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/img/bridge.png" />
       
<link rel="stylesheet" href="/dist/main.css">

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css"
      />
      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <script src="https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js"></script>
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
      <canvas width="1777" height="841"
        style="position: fixed; left: 0px; top: 0px; z-index: 99999; pointer-events: none;"></canvas>
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-20221108-LinuxTutorial1"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  Tutorial:从零开始的Linux使用【1】
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/08/20221108-LinuxTutorial1/" class="article-date">
  <time datetime="2022-11-07T16:00:00.000Z" itemprop="datePublished">2022-11-08</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/rd/">rd</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">10.3k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">43 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <hr>
<blockquote>
<p>本文面向Tanglab及类似的需要使用Linux、但缺乏相关基础的科研人士</p>
</blockquote>
<blockquote>
<p>本文基于<a target="_blank" rel="noopener" href="http://www.sysumeg.com/index.php/project/tlcl/"><strong>《TLCL 快乐的 Linux 命令行》</strong></a> ，计划每周给实验室同学普及一些linux常识。如果你希望深入学习，应当阅读原文。</p>
</blockquote>
<blockquote>
<p>如果你拥有丰富的经验，基础内容对你的帮助可能比较有限，但扩展内容应该能给你一些有益的启发。</p>
</blockquote>
<hr>
<span id="more"></span>
<h1 id="序"><a href="#序" class="headerlink" title="序"></a>序</h1><p><img src="https://raw.githubusercontent.com/DF-Master/yidapicbed/main/2022/202211//linus.png" alt="Linus Torvalds"></p>
<p>Linus Torvalds 在1991年写了 Linux 内核的第一个版本。一提到 Linux，许多人都会说到“自由”——“自由”是指一台没有任何秘密的计算机，你可以从它那里了解一切。基于命令行界面（CLI）的Linux可以完成很多复杂的任务，它更原始，也更强大、自由。学习 Linux 命令行会让你受益匪浅，给你极大的回报。不像其他一些计算机技能， 一段时间之后可能就被淘汰了，命令行知识却不会落伍，你今天所学到的，在十年以后 都会有用处。命令行通过了时间的考验。</p>
<h1 id="Shell-1：Shell与终端"><a href="#Shell-1：Shell与终端" class="headerlink" title="Shell - 1：Shell与终端"></a>Shell - 1：Shell与终端</h1><blockquote>
<p>基础内容：从终端认识shell(了解)；扩展内容：后台运行shell（实用），其他shell</p>
</blockquote>
<p>shell 就是一个程序，它接受从键盘输入的命令， 然后把命令传递给操作系统去执行。几乎所有的 Linux 发行版(Ubuntu, CentOS, etc)都提供一个名为 bash 的 来自 GNU 项目的 shell 程序。“bash” 是 “Bourne Again SHell” 的首字母缩写， 是最初在 Unix 上由 Steve Bourne 写成 shell 程序 sh 的增强版。</p>
<p>当使用图形用户界面时，我们需要另一个和 shell 交互的叫做终端仿真器的程序。 如果我们浏览一下桌面菜单，可能会找到一个。虽然在菜单里它可能都被简单地称为 “terminal”。在windows 11下，有windows terminal.</p>
<p>好，开始吧。启动终端仿真器！一旦它运行起来，我们应该看到一行像这样的文字：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(base) [jiangyd@localhost ~]$</span><br></pre></td></tr></table></figure>

<p>这叫做 shell 提示符，当 shell 准备好了去接受输入时，它就会出现。然而， 它可能会以各种各样的面孔显示，这则取决于不同的 Linux 发行版， 它通常包括你的用户名@主机名，紧接着当前工作目录（稍后会有更多介绍）和一个美元符号。</p>
<p>我这边前面还有一个（base），这是因为我使用了anaconda的默认环境，这也会在之后讲。</p>
<p>如果提示符的最后一个字符是“#”, 而不是“$”, 那么这个终端会话就有超级用户权限。 这意味着，我们要么是以 root 用户的身份登录，要么是我们选择的终端仿真器提供超级用户（管理员）权限。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost jiangyd]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<p>*在多人维护的服务器中，尽量不要使用root账户！使用root权限应当写文档告知其他人。</p>
<p>假定到目前为止，所有事情都进展顺利，那我们试着键入字符吧。在提示符下敲入 一些像下面一样的乱七八糟的字符,因为这个命令没有任何意义，所以 shell 会提示错误信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(base) [jiangyd@localhost ~]$ asdasd</span><br><span class="line">bash: asdasd: <span class="built_in">command</span> not found...</span><br></pre></td></tr></table></figure>

<h2 id="命令历史"><a href="#命令历史" class="headerlink" title="命令历史"></a><strong><strong>命令历史</strong></strong></h2><p>如果按下上箭头按键，我们会看到刚才输入的命令“asdasd”重新出现在提示符之后。 这就叫做命令历史。许多 Linux 发行版默认保存最后输入的500个命令。 按下下箭头按键，先前输入的命令就消失了。</p>
<ul>
<li>在fish中，你还可以用上键来检索特定的命令，之后会讲到</li>
</ul>
<h2 id="复制"><a href="#复制" class="headerlink" title="复制"></a>复制</h2><p>虽然，shell 是和键盘打交道的，但你也可以在终端仿真器里使用鼠标。X 窗口系统 （使 GUI 工作的底层引擎）内建了一种机制，支持快速拷贝和粘贴技巧。 如果你按下鼠标左键，沿着文本拖动鼠标（或者双击一个单词）高亮了一些文本， 那么这些高亮的文本就被拷贝到了一个由 X 管理的缓冲区里面。然后按下鼠标中键， 这些文本就被粘贴到光标所在的位置。试试看。</p>
<p>*但是，在windows terminal中，使用的是直接的ctrl+C ctrl+V</p>
<h2 id="一些简单命令"><a href="#一些简单命令" class="headerlink" title="一些简单命令"></a>一些简单命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">jiangyd@localhost ~&gt; <span class="built_in">date</span></span><br><span class="line">Mon Nov  7 20:48:49 CST 2022</span><br><span class="line">jiangyd@localhost ~&gt; cal</span><br><span class="line">    November 2022</span><br><span class="line">Su Mo Tu We Th Fr Sa</span><br><span class="line">       1  2  3  4  5</span><br><span class="line"> 6  7  8  9 10 11 12</span><br><span class="line">13 14 15 16 17 18 19</span><br><span class="line">20 21 22 23 24 25 26</span><br><span class="line">27 28 29 30</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">jiangyd@localhost ~&gt; <span class="built_in">df</span></span><br><span class="line">Filesystem            1K-blocks       Used   Available Use% Mounted on</span><br><span class="line">devtmpfs              131726824          0   131726824   0% /dev</span><br><span class="line">tmpfs                 131746180          4   131746176   1% /dev/shm</span><br><span class="line">tmpfs                 131746180     609468   131136712   1% /run</span><br><span class="line">tmpfs                 131746180          0   131746180   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/cl-root    52403200   27196932    25206268  52% /</span><br><span class="line">/dev/mapper/cl-home   176021532   93666116    82355416  54% /home</span><br><span class="line">/dev/sda2                999320     285280      645228  31% /boot</span><br><span class="line">/dev/sda1                613184       7416      605768   2% /boot/efi</span><br><span class="line">/dev/mapper/mpatha1 23313366256 4564139156 17578832220  21% /smb</span><br><span class="line">tmpfs                  26349236          0    26349236   0% /run/user/1003</span><br><span class="line">tmpfs                  26349236          0    26349236   0% /run/user/1009</span><br><span class="line">tmpfs                  26349236          0    26349236   0% /run/user/1004</span><br><span class="line">tmpfs                  26349236          0    26349236   0% /run/user/1005</span><br><span class="line">tmpfs                  26349236          0    26349236   0% /run/user/1017</span><br><span class="line">tmpfs                  26349236          0    26349236   0% /run/user/1010</span><br><span class="line">tmpfs                  26349236          0    26349236   0% /run/user/1002</span><br><span class="line">tmpfs                  26349236          0    26349236   0% /run/user/1000</span><br><span class="line">tmpfs                  26349236          0    26349236   0% /run/user/1008</span><br><span class="line"></span><br><span class="line">jiangyd@localhost ~&gt; free</span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:      263492364    25730312     7261180      622992   230500872   235255688</span><br><span class="line">Swap:       4194300     4194300           0</span><br></pre></td></tr></table></figure>

<ul>
<li>安装了<a target="_blank" rel="noopener" href="https://github.com/ibraheemdev/modern-unix">modern-unix</a>系列工具后，可以使用更美观的命令gtop，btm</li>
</ul>
<h2 id="结束终端"><a href="#结束终端" class="headerlink" title="结束终端"></a>结束终端</h2><p>在 shell 提示符下输入 exit 命令来终止一个终端会话，或者直接关闭窗口</p>
<h2 id="扩展内容：后台运行"><a href="#扩展内容：后台运行" class="headerlink" title="扩展内容：后台运行"></a>扩展内容：后台运行</h2><p>很多时候，我们会遇到断网&#x2F;断电&#x2F;死机等情况导致终端意外登出，正在运行的进程突然暴死，或者想在一个任务正在运行的情况下另开一个任务……这就需要后台运行与进程守护功能。</p>
<p>不过，如果只是想并行运行任务的话，除了使用终端的TAB功能，还有什么办法呢？在windows terminal中，有一个取巧的解决方案：你可以Alt + shift + &#x3D;&#x2F;- 来实现上下或者左右分屏，多余的内容用ctrl + L 清除，然后ctrl + D 也可关掉不需要的屏幕。试试看吧！</p>
<h3 id="nohup"><a href="#nohup" class="headerlink" title="nohup"></a>nohup</h3><p>那么，为了防止终端暴死，该用什么办法呢？最简单的办法就是使用Nohup + “&amp;”，例子如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> &lt;your code&gt; &amp;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> g16 /smb/jiangyd/g16_mission_file/SDA-close-core-opt-TDPBE0.gjk &amp;</span><br></pre></td></tr></table></figure>

<ul>
<li>这个还有扩展格式, 比如nohup ~&#x2F;user&#x2F;test.sh&gt;output.log 2&gt;&amp;1 &amp;，此处不讲</li>
</ul>
<h3 id="后台守护进程systemd"><a href="#后台守护进程systemd" class="headerlink" title="后台守护进程systemd"></a>后台守护进程systemd</h3><p>systemd可以设置进程在失败后自动重启、开机后自动打开，往往用于需要常开的功能，但是需要管理员权限，所以这边只是简单给出<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html">教程</a> 。但是，对于需要建立永久服务（如：BLOG）的人来说，这会很重要。</p>
<p>当然，npm的forever也可以实现进程守护的功能，受众太少这里不介绍了。</p>
<h3 id="Screen"><a href="#Screen" class="headerlink" title="Screen"></a>Screen</h3><p>第二种办法就是另开一个不会随着终端结束的terminal，这就是screen的用处了，它的好处就是我们可以随时打开另一个会话，当前终端的关闭也不会影响screen内的会话：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># screen不是linux自带的，需要安装</span></span><br><span class="line"><span class="comment"># 显示当前的screen</span></span><br><span class="line">jiangyd@localhost ~&gt; screen -<span class="built_in">ls</span></span><br><span class="line">There are screens on:</span><br><span class="line">3457181.alphafold       (Detached)</span><br><span class="line">2329155.8080    (Detached)</span><br><span class="line">1756412.clash   (Detached)</span><br><span class="line"><span class="comment"># 随时进入会话并查看会话内容</span></span><br><span class="line">jiangyd@localhost ~&gt; screen -r clash</span><br><span class="line">INFO[0000] Start initial compatible provider Auto-Fast</span><br><span class="line">INFO[0000] Start initial compatible provider NETFLIX</span><br><span class="line">INFO[0000] Start initial compatible provider Auto-Failover</span><br><span class="line">INFO[0000] Start initial compatible provider Auto-Edge</span><br><span class="line">INFO[0000] Start initial compatible provider Auto</span><br><span class="line">INFO[0000] Start initial compatible provider Express</span><br><span class="line">INFO[0000] Start initial compatible provider Proxy</span><br><span class="line">INFO[0000] Start initial compatible provider Geo</span><br><span class="line">INFO[0000] Start initial compatible provider Video</span><br><span class="line">INFO[0000] HTTP proxy listening at: 127.0.0.1:7890</span><br><span class="line">INFO[0000] SOCKS proxy listening at: 127.0.0.1:7891</span><br><span class="line">INFO[0000] RESTful API listening at: 127.0.0.1:9090</span><br><span class="line">INFO[0190] [TCP] 127.0.0.1:38930 --&gt; github.com:443 match DomainKeyword(github) using Proxy[GLaDOS-N2-02]</span><br><span class="line">INFO[16316] [TCP] 127.0.0.1:43728 --&gt; github.com:443 match DomainKeyword(github) using Proxy[GLaDOS-N2-02]</span><br><span class="line">INFO[273716] [TCP] 127.0.0.1:59694 --&gt; github.com:443 match DomainKeyword(github) using Proxy[GLaDOS-N2-02]</span><br><span class="line">INFO[1031488] [TCP] 127.0.0.1:35140 --&gt; github.com:443 match DomainKeyword(github) using Proxy[GLaDOS-N2-07]</span><br><span class="line"><span class="comment"># ctrl+A ctrl +D 离开会话</span></span><br><span class="line"><span class="comment"># ctrl+C ctrl +D 关闭会话</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="tmux"><a href="#tmux" class="headerlink" title="tmux"></a>tmux</h3><p>某种意义上，tmux可以说是screen+,而byobu又是tmux+。可是，实验室中真的会有这么多后台窗口的需要吗……</p>
<p>虽然因为习惯原因还是继续用screen，但tmux和byobu还是非常值得推荐的，参见<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2019/10/tmux.html">教程</a>。</p>
<h2 id="扩展内容：其他shell"><a href="#扩展内容：其他shell" class="headerlink" title="扩展内容：其他shell"></a>扩展内容：其他shell</h2><p>虽然bash shell是默认的、主流的shell，但主流不代表“好用”，下面将对两款“好用”的shell进行介绍。</p>
<h3 id="Fish-the-friendly-interactive-shell"><a href="#Fish-the-friendly-interactive-shell" class="headerlink" title="Fish: the friendly interactive shell"></a><a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2017/05/fish_shell.html">Fish: the <strong>f</strong>riendly <strong>i</strong>nteractive <strong>sh</strong>ell</a></h3><blockquote>
<p>点击超链接阅读原文</p>
</blockquote>
<p>Fish 是”the <strong>f</strong>riendly <strong>i</strong>nteractive <strong>sh</strong>ell”的简称，最大特点就是方便易用。很多其他 Shell 需要配置才有的功能，Fish 默认提供，不需要任何配置。</p>
<p>如果你想拥有一个方便好用的 Shell，又不想学习一大堆语法，或者花费很多时间配置，那么你一定要尝试一下 Fish。安装请参考<a target="_blank" rel="noopener" href="https://fishshell.com/#platform_tabs">官方网站</a> 。</p>
<p>Fish 的语法与 Bash 有很大差异，Bash 脚本一般不兼容。你可以用下面的代码把它设置成默认shell，也可以每次输入“fish”手动启动它。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jiangyd@localhost ~ [3]&gt; <span class="built_in">which</span> fish <span class="comment"># 查询fish位置</span></span><br><span class="line">/usr/bin/fish</span><br><span class="line">jiangyd@localhost ~&gt; chsh -s /usr/bin/fish <span class="comment"># 更换默认shell</span></span><br></pre></td></tr></table></figure>

<p>fish有几大特点：</p>
<ul>
<li>默认彩色显示</li>
<li>有效路径会有下划线</li>
<li>自动建议<ul>
<li>如果采纳建议，可以按下<code>→</code>或<code>Control + F</code></li>
<li>如果只采纳一部分，可以按下<code>Alt + →</code></li>
</ul>
</li>
<li>自动补全</li>
<li>fish的语法和bash不同，请查询文档。配置文件是<code>~/.config/fish/config.fish</code></li>
<li>自定义主题和安装插件：<a target="_blank" rel="noopener" href="https://github.com/oh-my-fish/oh-my-fish">oh-my-fish</a></li>
</ul>
<h3 id="Zsh-a-shell-designed-for-interactive-use"><a href="#Zsh-a-shell-designed-for-interactive-use" class="headerlink" title="Zsh: a shell designed for interactive use"></a><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Zsh_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Zsh: a shell designed for interactive use</a></h3><p>相比fish,zsh需要更多的自定义，在语法上也更传统（更接近bash），但远远没有做到开箱即用。但是，对有bash使用需求的用户来说，zsh是相当优秀的平替。</p>
<p>因为本文面向的是初学者，笔者的经验也有限，所以不会对zsh进行过多的介绍，感兴趣的读者可以阅读官方文档和<a target="_blank" rel="noopener" href="https://github.com/ohmyzsh/ohmyzsh">oh-my-zsh</a></p>
<h1 id="Shell-2-文件操作"><a href="#Shell-2-文件操作" class="headerlink" title="Shell - 2: 文件操作"></a>Shell - 2: <strong><strong>文件操作</strong></strong></h1><blockquote>
<p>基础内容：pwd,cd,ls,file,less,cp,mv,mkdir,rm, ln; 扩展内容：用vscode实现文档传输、文本编辑</p>
</blockquote>
<h2 id="pwd-ls"><a href="#pwd-ls" class="headerlink" title="pwd,ls"></a>pwd,ls</h2><p>linux文件系统像一个倒立的大树，它的结构往往很复杂：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; /s/o/t/source on master ◦ tree                                         12:51:54</span><br><span class="line">.</span><br><span class="line">└── _posts</span><br><span class="line">    ├── 2021-09-08-Publications.md</span><br><span class="line">    ├── 2021-09-09-Contact-Information.md</span><br><span class="line">    ├── member</span><br><span class="line">    │   ├── former-members.md</span><br><span class="line">    │   ├── phd-students.md</span><br><span class="line">    │   ├── post-PhD.md</span><br><span class="line">    │   ├── Staff.md</span><br><span class="line">    │   ├── tangc.md</span><br><span class="line">    │   └── Undergrad.md</span><br><span class="line">    ├── news</span><br><span class="line">    │   ├── 2021-09-10-Tanglab庆祝2021教师节.md</span><br><span class="line">    │   ├── 2021-10-16-刘聪研究员报告：α-Synuclein病理性聚集与帕金森病.md</span><br><span class="line">    │   ├── 2022-01-21-TangLab新年活动--保龄球初体验.md</span><br><span class="line">    │   ├── 220427踏青.md</span><br><span class="line">    │   ├── 220730羽毛球.md</span><br><span class="line">    │   ├── 兴大报告学术笔记—Ichio-Shimada-教授.md</span><br><span class="line">    │   └── 《蛋白质折叠和结合以及染色体动力学的能量景观》：汪劲教授受邀来CCME做报告.md</span><br><span class="line">    ├── R&amp;D</span><br><span class="line">    │   ├── 2022</span><br><span class="line">    │   │   ├── Tanglab Tutorial 面向科研人员的Markdown应用教程.md</span><br><span class="line">    │   │   └── 基于NMRPipe的RDC数据处理教程 2a112f74ab744859baeea5a26ca18cb8.md</span><br><span class="line">    │   ├── biomolecular_dynamics_study.md</span><br><span class="line">    │   ├── PRE.md</span><br><span class="line">    │   ├── RNA.md</span><br><span class="line">    │   └── UB.md</span><br><span class="line">    ├── sportsmeeting.md</span><br><span class="line">    └── Tuturial <span class="keyword">for</span> Alphafold on Tanglab pku edu cn 9512ed4c670b401094acbb8deaecffc9.md</span><br><span class="line"></span><br><span class="line">5 directories, 23 files</span><br></pre></td></tr></table></figure>

<p>因此，了解这个大树中我们所处的位置，是很有必要的：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; /s/o/t/source on master ◦ <span class="built_in">pwd</span>                                          12:51:58</span><br><span class="line">/smb/openapps/tanglab-pku-hexo/source</span><br></pre></td></tr></table></figure>

<p>对一般用户，默认的工作目录就是&#x2F;home&#x2F;yourname，在tanglab中，存储盘&#x2F;smb&#x2F;yourname也是常用的工作空间。</p>
<p>查看当前工作目录下的文件，可以使用ls（先前的例子使用了tree，可以展示进一步的子目录）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; /s/o/t/source on master ◦ <span class="built_in">ls</span>                                           12:55:49</span><br><span class="line">_posts/</span><br><span class="line"><span class="comment"># 展示特定目录</span></span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">ls</span> /home/jiangyd/                                                    12:58:39</span><br><span class="line">authorized_keys  Country.mmdb  Downloads/   Music/     Public/                  <span class="built_in">test</span>/</span><br><span class="line">cache.db         Desktop/      glados.yaml  nohup.out  stable-diffusion-webui/  Videos/</span><br><span class="line">clash/           Documents/    gromacs/     Pictures/  Templates/</span><br><span class="line"><span class="comment"># 展示细节</span></span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">ls</span> /home/jiangyd/ -l                                                 13:00:01</span><br><span class="line">total 5600</span><br><span class="line">-rw-rw-r--   1 jiangyd jiangyd       0 May  5  2022 authorized_keys</span><br><span class="line">-rw-r--r--   1 jiangyd Tanglab   16384 Oct 17 15:05 cache.db</span><br><span class="line">drwxr-xr-x   3 jiangyd Tanglab      36 Oct  5 19:55 clash/</span><br><span class="line">-rw-r--r--   1 jiangyd Tanglab 5703521 Oct 17 15:05 Country.mmdb</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Desktop/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Documents/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Downloads/</span><br><span class="line">-rw-r--r--   1 jiangyd Tanglab      16 Oct 17 15:05 glados.yaml</span><br><span class="line">drwxrwxr-x   3 jiangyd jiangyd      21 May 10 15:37 gromacs/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Music/</span><br><span class="line">-rw-------   1 jiangyd Tanglab    2226 Nov  7 21:05 nohup.out</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd     100 Jun 22  2018 Pictures/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Public/</span><br><span class="line">drwxr-xr-x  15 jiangyd Tanglab    4096 Oct 20 19:09 stable-diffusion-webui/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Templates/</span><br><span class="line">drwxr-xr-x. 12 jiangyd jiangyd     249 Oct 31 14:28 <span class="built_in">test</span>/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Videos/</span><br><span class="line"><span class="comment"># 展示隐藏文件</span></span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">ls</span> /home/jiangyd/ -al                                                13:00:36</span><br><span class="line">total 5692</span><br><span class="line">drwxr-xr-x. 27 jiangyd jiangyd    4096 Nov  8 12:39 ./</span><br><span class="line">drwxr-xr-x. 19 root    root        230 Oct  8 19:33 ../</span><br><span class="line">-rw-rw-r--   1 jiangyd jiangyd       0 May  5  2022 authorized_keys</span><br><span class="line">-rw-------   1 jiangyd Tanglab   15385 Nov  8 12:38 .bash_history</span><br><span class="line">-rwxr-xr-x.  1 jiangyd jiangyd      18 May 11  2019 .bash_logout*</span><br><span class="line">-rwxr-xr-x.  1 jiangyd jiangyd     141 May 11  2019 .bash_profile*</span><br><span class="line">-rwxr-xr-x.  1 jiangyd jiangyd     436 Jun  2 19:21 .bashrc*</span><br><span class="line">drwxr-xr-x. 22 jiangyd jiangyd    4096 Nov  8 12:19 .cache/</span><br><span class="line">-rw-r--r--   1 jiangyd Tanglab   16384 Oct 17 15:05 cache.db</span><br><span class="line">drwxr-xr-x   3 jiangyd Tanglab      36 Oct  5 19:55 clash/</span><br><span class="line">drwxr-sr-x.  2 jiangyd jiangyd      30 Apr 24  2022 .conda/</span><br><span class="line">-rwxr-xr-x.  1 jiangyd jiangyd       3 Apr 24  2022 .condarc*</span><br><span class="line">drwxr-xr-x. 18 jiangyd jiangyd    4096 Nov  8 12:19 .config/</span><br><span class="line">-rw-r--r--   1 jiangyd Tanglab 5703521 Oct 17 15:05 Country.mmdb</span><br><span class="line">-rwxr-xr-x.  1 jiangyd jiangyd     553 Apr 26  2022 .cshrc*</span><br><span class="line">drwxr-xr-x.  3 jiangyd jiangyd      25 Apr 25  2022 .dbus/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Desktop/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Documents/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Downloads/</span><br><span class="line">-rwxr-xr-x.  1 jiangyd jiangyd      16 Jun 22  2018 .esd_auth*</span><br><span class="line">drwxr-xr-x   2 jiangyd Tanglab       6 Jul 20 19:43 .gaussian/</span><br><span class="line">-rw-r--r--   1 jiangyd Tanglab      63 Oct 15 13:04 .gitconfig</span><br><span class="line">-rw-r--r--   1 jiangyd Tanglab      16 Oct 17 15:05 glados.yaml</span><br><span class="line">drwxrwxr-x   3 jiangyd jiangyd      21 May 10 15:37 gromacs/</span><br><span class="line">-rwxr-xr-x   1 jiangyd Tanglab     431 Jul 20 14:45 .<span class="built_in">history</span>*</span><br><span class="line">-rwxr-xr-x.  1 jiangyd jiangyd       0 Apr 25  2022 .history.7254921*</span><br><span class="line">-rwxr-xr-x.  1 jiangyd jiangyd    2178 Jun 22  2018 .ICEauthority*</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd      24 Apr 24  2022 .keras/</span><br><span class="line">drwxr-xr-x.  5 jiangyd jiangyd      41 Nov  8 12:40 .<span class="built_in">local</span>/</span><br><span class="line">drwxr-xr-x.  6 jiangyd jiangyd      81 Jun 22  2018 .mozilla/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Music/</span><br><span class="line">-rw-------   1 jiangyd Tanglab    2226 Nov  7 21:05 nohup.out</span><br><span class="line">drwxrwxr-x.  5 jiangyd jiangyd      84 Apr 26  2022 .npm/</span><br><span class="line">-rw-------   1 jiangyd Tanglab      29 Nov  8 12:39 .npmrc</span><br><span class="line">drwx------   3 jiangyd jiangyd      26 Jun 11 15:59 .nv/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd     100 Jun 22  2018 Pictures/</span><br><span class="line">drwxr-xr-x.  3 jiangyd jiangyd      19 Jun 22  2018 .pki/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Public/</span><br><span class="line">-rw-------   1 jiangyd Tanglab     418 Oct 15 16:12 .python_history</span><br><span class="line">drwx------.  2 jiangyd jiangyd      98 Jul 30 16:19 .ssh/</span><br><span class="line">drwxr-xr-x  15 jiangyd Tanglab    4096 Oct 20 19:09 stable-diffusion-webui/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Templates/</span><br><span class="line">drwxr-xr-x. 12 jiangyd jiangyd     249 Oct 31 14:28 <span class="built_in">test</span>/</span><br><span class="line">drwxr-xr-x.  2 jiangyd jiangyd       6 Jun 22  2018 Videos/</span><br><span class="line">-rw-------   1 jiangyd Tanglab    8955 Oct 20 19:08 .viminfo</span><br><span class="line">drwxr-xr-x   5 jiangyd Tanglab     208 Oct 17 19:39 .vscode-server/</span><br><span class="line">-rw-rw-r--   1 jiangyd jiangyd     400 Oct 17 19:39 .wget-hsts</span><br><span class="line">-rw-------   1 jiangyd Tanglab     201 Oct 26 13:32 .Xauthority</span><br></pre></td></tr></table></figure>

<p>ls还有很多常用选项，例如：</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Long Option</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>–all</td>
<td>List all files, even those with names that begin with a period, which are normally not listed(i.e.,hidden).</td>
</tr>
<tr>
<td>-d</td>
<td>–directory</td>
<td>Ordinaryly,if a directory is specified, ls will list the contents of the directory, not the directory itself. Use this option in conjunction with the -l option to see details about the directory rather than its contents.</td>
</tr>
<tr>
<td>-F</td>
<td>–classify</td>
<td>This option will append an indicator character to the end of each listed name. For example, a ‘&#x2F;‘ if the name is a directory.</td>
</tr>
<tr>
<td>-h</td>
<td>–human-readable</td>
<td>In long format listings, display file sizes in human readable format rather than in bytes.</td>
</tr>
<tr>
<td>-l</td>
<td></td>
<td>Display results in long format.</td>
</tr>
<tr>
<td>-r</td>
<td>–reverse</td>
<td>Display the results in reverse order. Normally, ls display its results in ascending alphabetical order.</td>
</tr>
<tr>
<td>-S</td>
<td></td>
<td>Sort results by file size.</td>
</tr>
<tr>
<td>-t</td>
<td></td>
<td>Sort by modification time.</td>
</tr>
</tbody></table>
<p>了解具体该使用什么选项，可以使用以下命令来查询：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ man <span class="built_in">ls</span></span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">ls</span> --<span class="built_in">help</span></span><br><span class="line"><span class="comment"># modern-unix介绍了tldr,一种更人类可读的help文档</span></span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ tldr <span class="built_in">ls</span>                                                              13:07:14</span><br><span class="line"></span><br><span class="line">  <span class="built_in">ls</span></span><br><span class="line"></span><br><span class="line">  List directory contents.</span><br><span class="line">  More information: https://www.gnu.org/software/coreutils/ls.</span><br><span class="line"></span><br><span class="line">  - List files one per line:</span><br><span class="line">    <span class="built_in">ls</span> -1</span><br><span class="line"></span><br><span class="line">  - List all files, including hidden files:</span><br><span class="line">    <span class="built_in">ls</span> -a</span><br><span class="line"></span><br><span class="line">  - List all files, with trailing `/` added to directory names:</span><br><span class="line">    <span class="built_in">ls</span> -F</span><br><span class="line"></span><br><span class="line">  - Long format list (permissions, ownership, size, and modification <span class="built_in">date</span>) of all files:</span><br><span class="line">    <span class="built_in">ls</span> -la</span><br><span class="line"></span><br><span class="line">  - Long format list with size displayed using human-readable units (KiB, MiB, GiB):</span><br><span class="line">    <span class="built_in">ls</span> -lh</span><br><span class="line"></span><br><span class="line">  - Long format list sorted by size (descending):</span><br><span class="line">    <span class="built_in">ls</span> -lS</span><br><span class="line"></span><br><span class="line">  - Long format list of all files, sorted by modification <span class="built_in">date</span> (oldest first):</span><br><span class="line">    <span class="built_in">ls</span> -ltr</span><br><span class="line"></span><br><span class="line">  - Only list directories:</span><br><span class="line">    <span class="built_in">ls</span> -d */</span><br></pre></td></tr></table></figure>

<h2 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h2><p>看清目录后，切换目录使用cd命令,cd 后不加任何参数就是回到主目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; /s/o/t/source on master ◦ <span class="built_in">pwd</span>                                          12:58:32</span><br><span class="line">/smb/openapps/tanglab-pku-hexo/source</span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; /s/o/t/source on master ◦ <span class="built_in">cd</span>                                           12:58:34</span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">pwd</span>                                                                  12:58:36</span><br><span class="line">/home/jiangyd</span><br></pre></td></tr></table></figure>

<p>cd 后可以加 <strong>相对路径</strong> 和 <strong>绝对路径</strong>。绝对路径开始于根目录，以“&#x2F;”作为开头；相对路径开始于当前目录，以“.&#x2F;”或者不加任何描述作为开头。此外，特殊的，“~&#x2F;”代表以用户起始目录，对一般用户代表“&#x2F;home&#x2F;yourname”。因此，下面的命令完全一致：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">cd</span>                                                                   13:07:21</span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">cd</span> /home/jiangyd/test/                                               13:13:59</span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~/test <span class="built_in">cd</span>                                                              13:14:21</span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">cd</span> <span class="built_in">test</span>/                                                             13:14:23</span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~/test <span class="built_in">cd</span>                                                              13:14:35</span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">cd</span> ./test/</span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~/test <span class="built_in">cd</span>                                                              13:14:30</span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">cd</span> ~/test/                                                           13:14:31</span><br></pre></td></tr></table></figure>

<ul>
<li>最后，请注意linux是大小写敏感的！</li>
</ul>
<p>此外，cd 还提供一些快捷方式，试试看吧:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 回退</span></span><br><span class="line"><span class="built_in">cd</span> - </span><br><span class="line"><span class="comment"># 上级目录</span></span><br><span class="line"><span class="built_in">cd</span> .. </span><br><span class="line"><span class="comment"># 用户根目录</span></span><br><span class="line"><span class="built_in">cd</span> ~&lt;user_name&gt;</span><br></pre></td></tr></table></figure>

<h2 id="file-less"><a href="#file-less" class="headerlink" title="file, less"></a>file, less</h2><p>file 命令可以用来确定文件的类型</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; / file cache.db                                                        13:31:19</span><br><span class="line">cache.db: data</span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; / file sbin/                                                           13:31:41</span><br><span class="line">sbin/: directory</span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ file nohup.out                                                       13:33:19</span><br><span class="line">nohup.out: ASCII text</span><br></pre></td></tr></table></figure>

<p>其中，文本文件是重要的文件类型。在计算机中，信息与数字的转换十分重要。毕竟，计算机只能理解数字。其中，最早也是最简单的一种表达法，叫做 ASCII 文本。ASCII（发音是”As-Key”）是美国信息交换标准码的简称。这是一个简单的编码方法，它首先 被用在电传打字机上，用来实现键盘字符到数字的映射。</p>
<p>文本是简单的字符与数字之间的一对一映射。它非常紧凑。五十个字符的文本翻译成五十个字节的数据。文本只是包含简单的字符到数字的映射，理解这点很重要。它和一些常见办公文档编辑软件，比如说由微软 Office 或 OpenOffice.org，创建的文字内容不同。和简单的 ASCII 文件形成鲜明对比，这些文档内容中包含许多非文本元素，来描述它的结构和格式。纯 ASCII 文件只包含字符本身，和一些基本的控制符，像制表符、回车符及换行符。纵观 Linux 系统，许多文件以文本格式存储，也有许多 Linux 工具来处理文本文件。甚至 Windows 也承认这种文件格式的重要性。著名的 NOTEPAD.EXE 程序就是一个纯 ASCII 文本文件编辑器。</p>
<p>*markdown就是一种纯文本文件，可以参考我的<a target="_blank" rel="noopener" href="http://tanglab.cn/2022/11/04/R&D/2022/Tanglab%20Tutorial%20%E9%9D%A2%E5%90%91%E7%A7%91%E7%A0%94%E4%BA%BA%E5%91%98%E7%9A%84Markdown%E5%BA%94%E7%94%A8%E6%95%99%E7%A8%8B/">Tutorial 面向科研人员的Markdown应用教程</a></p>
<p>既然文本文件很重要，在linux中查看和编写文本文件就很重要了。less命令提供了一种阅读文本文件的方式（当然你还可以使用cat, vim，etc）. less的命令很简单：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">less &lt;file_name&gt;</span><br><span class="line"><span class="comment"># less 程序是早期 Unix 程序 more 的改进版。</span></span><br><span class="line"><span class="comment"># “less” 这个名字，套用习语 “less is more” ， 这个习语是现代主义建筑师和设计者的座右铭。</span></span><br></pre></td></tr></table></figure>

<p>常用的快捷键如下：</p>
<table>
<thead>
<tr>
<th>Page UP or b</th>
<th>向上翻滚一页</th>
</tr>
</thead>
<tbody><tr>
<td>Page Down or space</td>
<td>向下翻滚一页</td>
</tr>
<tr>
<td>UP Arrow</td>
<td>向上翻滚一行</td>
</tr>
<tr>
<td>Down Arrow</td>
<td>向下翻滚一行</td>
</tr>
<tr>
<td>G</td>
<td>移动到最后一行</td>
</tr>
<tr>
<td>1G or g</td>
<td>移动到开头一行</td>
</tr>
<tr>
<td>&#x2F;charaters</td>
<td>向前查找指定的字符串</td>
</tr>
<tr>
<td>n</td>
<td>向前查找下一个出现的字符串，这个字符串是之前所指定查找的</td>
</tr>
<tr>
<td>h</td>
<td>显示帮助屏幕</td>
</tr>
<tr>
<td>q</td>
<td>退出 less 程序</td>
</tr>
</tbody></table>
<h2 id="Start-Travel"><a href="#Start-Travel" class="headerlink" title="Start Travel"></a>Start Travel</h2><p>现在，你已经基本掌握了文件跳转的办法，来试试看参观下面的目录吧。虽然有些内容只能由管理员操作，但只是参观目录的话，一般没有问题：</p>
<table>
<thead>
<tr>
<th>目录</th>
<th>评论</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;</td>
<td>根目录，万物起源。</td>
</tr>
<tr>
<td>&#x2F;bin</td>
<td>包含系统启动和运行所必须的二进制程序。</td>
</tr>
<tr>
<td>&#x2F;boot</td>
<td>包含 Linux 内核、初始 RAM 磁盘映像（用于启动时所需的驱动）和 启动加载程序。</td>
</tr>
<tr>
<td>有趣的文件：</td>
<td></td>
</tr>
<tr>
<td>• &#x2F;boot&#x2F;grub&#x2F;grub.conf or menu.lst， 被用来配置启动加载程序。</td>
<td></td>
</tr>
<tr>
<td>• &#x2F;boot&#x2F;vmlinuz，Linux 内核。</td>
<td></td>
</tr>
<tr>
<td>&#x2F;dev</td>
<td>这是一个包含设备结点的特殊目录。“一切都是文件”，也适用于设备。 在这个目录里，内核维护着所有设备的列表。</td>
</tr>
<tr>
<td>&#x2F;etc</td>
<td>这个目录包含所有系统层面的配置文件。它也包含一系列的 shell 脚本， 在系统启动时，这些脚本会开启每个系统服务。这个目录中的任何文件应该是可读的文本文件。</td>
</tr>
<tr>
<td>有趣的文件：虽然&#x2F;etc 目录中的任何文件都有趣，但这里只列出了一些我一直喜欢的文件：</td>
<td></td>
</tr>
<tr>
<td>• &#x2F;etc&#x2F;crontab， 定义自动运行的任务。</td>
<td></td>
</tr>
<tr>
<td>• &#x2F;etc&#x2F;fstab，包含存储设备的列表，以及与他们相关的挂载点。</td>
<td></td>
</tr>
<tr>
<td>• &#x2F;etc&#x2F;passwd，包含用户帐号列表。</td>
<td></td>
</tr>
<tr>
<td>&#x2F;home</td>
<td>在通常的配置环境下，系统会在 &#x2F;home 下，给每个用户分配一个目录。普通用户只能 在自己的目录下写文件。这个限制保护系统免受错误的用户活动破坏。</td>
</tr>
<tr>
<td>&#x2F;lib</td>
<td>包含核心系统程序所使用的共享库文件。这些文件与 Windows 中的动态链接库相似。</td>
</tr>
<tr>
<td>&#x2F;lost+found</td>
<td>每个使用 Linux 文件系统的格式化分区或设备，例如 ext3文件系统， 都会有这个目录。当部分恢复一个损坏的文件系统时，会用到这个目录。这个目录应该是空的，除非文件系统 真正的损坏了。</td>
</tr>
<tr>
<td>&#x2F;media</td>
<td>在现在的 Linux 系统中，&#x2F;media 目录会包含可移动介质的挂载点， 例如 USB 驱动器，CD-ROMs 等等。这些介质连接到计算机之后，会自动地挂载到这个目录结点下。</td>
</tr>
<tr>
<td>&#x2F;mnt</td>
<td>在早些的 Linux 系统中，&#x2F;mnt 目录包含可移动介质的挂载点。</td>
</tr>
<tr>
<td>&#x2F;opt</td>
<td>这个&#x2F;opt 目录被用来安装“可选的”软件。这个主要用来存储可能 安装在系统中的商业软件产品。</td>
</tr>
<tr>
<td>&#x2F;proc</td>
<td>这个&#x2F;proc 目录很特殊。从存储在硬盘上的文件的意义上说，它不是真正的文件系统。 相反，它是一个由 Linux 内核维护的虚拟文件系统。它所包含的文件是内核的窥视孔。这些文件是可读的， 它们会告诉你内核是怎样监管计算机的。</td>
</tr>
<tr>
<td>&#x2F;root</td>
<td>root 帐户的家目录。</td>
</tr>
<tr>
<td>&#x2F;sbin</td>
<td>这个目录包含“系统”二进制文件。它们是完成重大系统任务的程序，通常为超级用户保留。</td>
</tr>
<tr>
<td>&#x2F;tmp</td>
<td>这个&#x2F;tmp 目录，是用来存储由各种程序创建的临时文件的地方。系统每次 重新启动时，都会清空这个目录。</td>
</tr>
<tr>
<td>&#x2F;usr</td>
<td>在 Linux 系统中，&#x2F;usr 目录可能是最大的一个。它包含普通用户所需要的所有程序和文件。</td>
</tr>
<tr>
<td>&#x2F;usr&#x2F;bin</td>
<td>&#x2F;usr&#x2F;bin 目录包含系统安装的可执行程序。通常，这个目录会包含许多程序。</td>
</tr>
<tr>
<td>&#x2F;usr&#x2F;lib</td>
<td>包含由&#x2F;usr&#x2F;bin 目录中的程序所用的共享库。</td>
</tr>
<tr>
<td>&#x2F;usr&#x2F;local</td>
<td>这个&#x2F;usr&#x2F;local 目录，是非系统发行版自带程序的安装目录。 通常，由源码编译的程序会安装在&#x2F;usr&#x2F;local&#x2F;bin 目录下。新安装的 Linux 系统中会存在这个目录， 并且在管理员安装程序之前，这个目录是空的。</td>
</tr>
<tr>
<td>&#x2F;usr&#x2F;sbin</td>
<td>包含许多系统管理程序。</td>
</tr>
<tr>
<td>&#x2F;usr&#x2F;share</td>
<td>&#x2F;usr&#x2F;share 目录包含许多由 &#x2F;usr&#x2F;bin 目录中的程序使用的共享数据。 其中包括像默认的配置文件、图标、桌面背景、音频文件等等。</td>
</tr>
<tr>
<td>&#x2F;usr&#x2F;share&#x2F;doc</td>
<td>大多数安装在系统中的软件包会包含一些文档。在&#x2F;usr&#x2F;share&#x2F;doc 目录下， 我们可以找到按照软件包分类的文档。</td>
</tr>
<tr>
<td>&#x2F;var</td>
<td>除了&#x2F;tmp 和&#x2F;home 目录之外，相对来说，目前我们看到的目录是静态的，这是说， 它们的内容不会改变。&#x2F;var 目录存放的是动态文件。各种数据库，假脱机文件， 用户邮件等等，都位于在这里。</td>
</tr>
<tr>
<td>&#x2F;var&#x2F;log</td>
<td>这个&#x2F;var&#x2F;log 目录包含日志文件、各种系统活动的记录。这些文件非常重要，并且 应该时时监测它们。其中最重要的一个文件是 &#x2F;var&#x2F;log&#x2F;messages。注意，为了系统安全，在一些系统中， 你必须是超级用户才能查看这些日志文件。</td>
</tr>
</tbody></table>
<h3 id="符号链接"><a href="#符号链接" class="headerlink" title="符号链接"></a>符号链接</h3><p>在到处查看时，可能会看到一个目录，列出像这样的一条信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lrwxrwxrwx 1 root root 11 2007-08-11 07:34 libc.so.6 -&gt; libc-2.6.so</span><br></pre></td></tr></table></figure>

<p>为何这条信息第一个字符是“l”，并且有两个文件名呢？ 这是一个特殊文件，叫做符号链接（也称为软链接或者 symlink ）。 在大多数“类 Unix” 系统中， 有可能一个文件被多个文件名所指向。这个特性很有用。它的作用就像域名：既方便管理，也方便用户记忆、使用。</p>
<p>上面展示了一个叫做 “libc.so.6” 的符号链接，这个符号链接指向一个 叫做 “libc-2.6.so” 的共享库文件。这意味着，寻找文件 “libc.so.6” 的程序，实际上得到是文件 “libc-2.6.so”。之后，我们将学习如何建立符号链接。</p>
<h2 id="mkdir-cp-mv-rm"><a href="#mkdir-cp-mv-rm" class="headerlink" title="mkdir, cp, mv, rm"></a>mkdir, cp, mv, rm</h2><p>今天，用图形文件管理器来完成一些文件管理更加方便，但是命令行提供了更多的自定义选项，例如copy所有的html类型文件并且不进行替换：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -u *.html destination</span><br></pre></td></tr></table></figure>

<p>上面，使用了命令行的一个强大功能——通配符。通配符允许你依据字符的组合模式来选择文件名。下表列出这些通配符 以及它们所选择的对象：</p>
<table>
<thead>
<tr>
<th>通配符</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>匹配任意多个字符（包括零个或一个）</td>
</tr>
<tr>
<td>?</td>
<td>匹配任意一个字符（不包括零个）</td>
</tr>
<tr>
<td>[characters]</td>
<td>匹配任意一个属于字符集（characters）中的字符</td>
</tr>
<tr>
<td>[!characters]</td>
<td>匹配任意一个不是字符集中的字符</td>
</tr>
<tr>
<td>[[:class:]]</td>
<td>匹配任意一个属于指定字符类中的字符</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>字符类</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>[:alnum:]</td>
<td>匹配任意一个字母或数字</td>
</tr>
<tr>
<td>[:alpha:]</td>
<td>匹配任意一个字母</td>
</tr>
<tr>
<td>[:digit:]</td>
<td>匹配任意一个数字</td>
</tr>
<tr>
<td>[:lower:]</td>
<td>匹配任意一个小写字母</td>
</tr>
<tr>
<td>[:upper:]</td>
<td>匹配任意一个大写字母</td>
</tr>
</tbody></table>
<p>下面给出了一些例子：</p>
<table>
<thead>
<tr>
<th>模式</th>
<th>匹配对象</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>所有文件</td>
</tr>
<tr>
<td>g*</td>
<td>文件名以“g”开头的文件</td>
</tr>
<tr>
<td>b*.txt</td>
<td>以”b”开头，中间有零个或任意多个字符，并以”.txt”结尾的文件</td>
</tr>
<tr>
<td>Data???</td>
<td>以“Data”开头，其后紧接着3个字符的文件</td>
</tr>
<tr>
<td>[abc]*</td>
<td>文件名以”a”,”b”,或”c”开头的文件</td>
</tr>
<tr>
<td>BACKUP.[0-9][0-9][0-9]</td>
<td>以”BACKUP.”开头，并紧接着3个数字的文件</td>
</tr>
<tr>
<td>[[:upper:]]*</td>
<td>以大写字母开头的文件</td>
</tr>
<tr>
<td>[![:digit:]]*</td>
<td>不以数字开头的文件</td>
</tr>
<tr>
<td>*[[:lower:]123]</td>
<td>文件名以小写字母结尾，或以 “1”，“2”，或 “3” 结尾的文件</td>
</tr>
</tbody></table>
<p>当然，通配符在脚本中往往出现得更多，了解他们对于阅读脚本是有帮助的。（这是一个笑话）以及你可以通过下面这个代码来快速完成运维生涯：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf *</span><br><span class="line"><span class="comment"># 它的意思是删除当前目录所有文件，一般这么做完就可以下班了（笑）</span></span><br></pre></td></tr></table></figure>

<p>此外，一些图形文件管理器也支持通配符，比如Dolphin和GNOME，试试看吧！此外，常用的搜索引擎也有类似的语法，试试看吧！</p>
<p>有了通配符的概念，就能高效地使用下面的命令了。</p>
<h3 id="mkdir-创建目录"><a href="#mkdir-创建目录" class="headerlink" title="mkdir - 创建目录"></a>mkdir - <strong><strong>创建目录</strong></strong></h3><p>在开始下面的部分前，我们先学习一下mkdir。 mkdir 命令被用来创建目录，用法非常简单：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> &lt;dir_name&gt;</span><br></pre></td></tr></table></figure>

<p>现在有了目录之后，我们可以以此为对象学习后面的内容。</p>
<h3 id="cp-复制文件和目录"><a href="#cp-复制文件和目录" class="headerlink" title="cp - 复制文件和目录"></a><strong><strong>cp - 复制文件和目录</strong></strong></h3><p><strong>cp 命令，复制文件或者目录。它有两种使用方法：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 复制单个文件或目录”item1”到文件或目录”item2”</span></span><br><span class="line"><span class="built_in">cp</span> item1 item2</span><br><span class="line"><span class="comment"># 复制多个项目（文件或目录）到一个目录下。</span></span><br><span class="line"><span class="built_in">cp</span> item... directory</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>选项</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>-a, –archive</td>
<td>复制文件和目录，以及它们的属性，包括拥有者和所有权。 通常情况下，文件拷贝具有执行拷贝操作的用户的默认属性。</td>
</tr>
<tr>
<td>-i, –interactive</td>
<td>在覆盖已存在文件之前，提示用户确认。如果这个选项不指定， cp 命令会默认覆盖文件。</td>
</tr>
<tr>
<td>-r, –recursive</td>
<td>递归地复制目录及目录中的内容。当复制目录时， 需要这个选项（或者 -a 选项）。</td>
</tr>
<tr>
<td>-u, –update</td>
<td>当把文件从一个目录复制到另一个目录时，仅复制 目标目录中不存在的文件，或者是文件内容新于目标目录中已经存在文件的内容的文件。</td>
</tr>
<tr>
<td>-v, –verbose</td>
<td>显示翔实的命令操作信息</td>
</tr>
</tbody></table>
<p>试试下面的例子：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>运行结果</th>
</tr>
</thead>
<tbody><tr>
<td>cp file1 file2</td>
<td>复制文件 file1 内容到文件 file2。如果 file2 已经存在， file2 的内容会被 file1 的内容覆盖。如果 file2 不存在，则会创建 file2。</td>
</tr>
<tr>
<td>cp -i file1 file2</td>
<td>这条命令和上面的命令一样，除了如果文件 file2 存在的话，在文件 file2 被覆盖之前， 会提示用户确认信息。</td>
</tr>
<tr>
<td>cp file1 file2 dir1</td>
<td>复制文件 file1 和文件 file2 到目录 dir1。目录 dir1 必须存在。</td>
</tr>
<tr>
<td>cp dir1&#x2F;* dir2</td>
<td>使用一个通配符，在目录 dir1 中的所有文件都被复制到目录 dir2 中。 dir2 必须已经存在。</td>
</tr>
<tr>
<td>cp -r dir1 dir2</td>
<td>复制目录 dir1 中的内容到目录 dir2。如果目录 dir2 不存在， 创建目录 dir2，操作完成后，目录 dir2 中的内容和 dir1 中的一样。 如果目录 dir2 存在，则目录 dir1 (和目录中的内容)将会被复制到 dir2 中。</td>
</tr>
</tbody></table>
<h3 id="mv-移动和重命名文件"><a href="#mv-移动和重命名文件" class="headerlink" title="mv - 移动和重命名文件"></a><strong><strong>mv - 移动和重命名文件</strong></strong></h3><p>mv的用法和cp基本一致。试试下面的例子：</p>
<table>
<thead>
<tr>
<th>mv file1 file2</th>
<th>移动 file1 到 file2。如果 file2 存在，它的内容会被 file1 的内容覆盖。 如果 file2 不存在，则创建 file2。 这两种情况下，file1 都不再存在。</th>
</tr>
</thead>
<tbody><tr>
<td>mv -i file1 file2</td>
<td>除了如果 file2 存在的话，在 file2 被覆盖之前，用户会得到 提示信息外，这个和上面的选项一样。</td>
</tr>
<tr>
<td>mv file1 file2 dir1</td>
<td>移动 file1 和 file2 到目录 dir1 中。dir1 必须已经存在。</td>
</tr>
<tr>
<td>mv dir1 dir2</td>
<td>如果目录 dir2 不存在，创建目录 dir2，并且移动目录 dir1 的内容到 目录 dir2 中，同时删除目录 dir1。如果目录 dir2 存在，移动目录 dir1（及它的内容）到目录 dir2。</td>
</tr>
</tbody></table>
<h3 id="rm-删除文件和目录"><a href="#rm-删除文件和目录" class="headerlink" title="rm - 删除文件和目录"></a><strong><strong>rm - 删除文件和目录</strong></strong></h3><p>rm,删除，用法更加简单：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>-i, –interactive</td>
<td>在删除已存在的文件前，提示用户确认信息。 如果不指定这个选项，rm 会默默地删除文件</td>
</tr>
<tr>
<td>-r, –recursive</td>
<td>递归地删除文件，这意味着，如果要删除一个目录，而此目录 又包含子目录，那么子目录也会被删除。要删除一个目录，必须指定这个选项。</td>
</tr>
<tr>
<td>-f, –force</td>
<td>忽视不存在的文件，不显示提示信息。这选项覆盖了“–interactive”选项。</td>
</tr>
<tr>
<td>-v, –verbose</td>
<td>在执行 rm 命令时，显示翔实的操作</td>
</tr>
</tbody></table>
<p>试试下面的实例：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>运行结果</th>
</tr>
</thead>
<tbody><tr>
<td>rm file1</td>
<td>默默地删除文件</td>
</tr>
<tr>
<td>rm -i file1</td>
<td>除了在删除文件之前，提示用户确认信息之外，和上面的命令作用一样。</td>
</tr>
<tr>
<td>rm -r file1 dir1</td>
<td>删除文件 file1, 目录 dir1，及 dir1 中的内容。</td>
</tr>
<tr>
<td>rm -rf file1 dir1</td>
<td>同上，除了如果文件 file1，或目录 dir1 不存在的话，rm 仍会继续执行。</td>
</tr>
</tbody></table>
<p>但总之，rm用多了会带来不幸（尤其是你误删了什么东西的时候），一方面你可以定期给服务器做备份，另一方面尽量不要在rm中使用通配符。</p>
<h2 id="ln-—-创建链接"><a href="#ln-—-创建链接" class="headerlink" title="ln — 创建链接"></a><strong><strong>ln — 创建链接</strong></strong></h2><p>ln 命令既可创建硬链接，也可以创建符号链接。可以用两者中的任意一种形式来使用它：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 硬链接</span></span><br><span class="line"><span class="built_in">ln</span> file <span class="built_in">link</span></span><br><span class="line"><span class="comment"># 符号链接,创建符号链接，”item” 可以是一个文件或是一个目录。</span></span><br><span class="line"><span class="built_in">ln</span> -s item <span class="built_in">link</span></span><br></pre></td></tr></table></figure>

<p>与更加现代的符号链接相比，硬链接是最初 Unix 创建链接的方式。每个文件默认会有一个硬链接， 这个硬链接给予文件名字。我们每创建一个硬链接，就为一个文件创建了一个额外的目录项。 硬链接有两个重要局限性：</p>
<ul>
<li><strong>一个硬链接不能关联它所在文件系统之外的文件。这是说一个链接不能关联 与链接本身不在同一个磁盘分区上的文件。</strong></li>
<li><strong>一个硬链接不能关联一个目录。</strong></li>
</ul>
<p>目前，符号链接是更常用的。符号链接生效，是通过创建一个特殊类型的文件，这个文件包含一个关联文件或目录的文本指针。在这一方面， 它们和 Windows 的快捷方式差不多，当然，符号链接早于 Windows 的快捷方式 很多年;-)</p>
<p>文件管理器 GNOME 和 KDE 都提供了一个简单而且自动化的方法来创建符号链接。 在 GNOME 里面，当拖动文件时，同时按下 Ctrl+Shift 按键会创建一个链接，而不是 复制（或移动）文件。在 KDE 中，无论什么时候放下一个文件，会弹出一个小菜单， 这个菜单会提供复制，移动，或创建链接文件选项。</p>
<p>下面给出了一个常用的实例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /usr/bin/python3 /usr/bin/python</span><br><span class="line">sudo <span class="built_in">ln</span> -s /usr/bin/pip3 /usr/bin/pip</span><br></pre></td></tr></table></figure>

<p>这一步需要管理员权限(sudo)，我们之后会讲到。在现代的Ubuntu发行版中往往没有默认的python命令（这往往对应于python2），因为默认的python3版本的命令是Python3和pip3。这边把python映射到python3，使得使用习惯保持一致。但其实版本已经发生了迁移——这就是符号链接的作用。</p>
<p>对于一些路径比较复杂的文件，你也可以用类似的方法建立链接，像快捷方式一样使用ln吧！</p>
<h2 id="扩展内容-用vscode实现文档传输、文本编辑"><a href="#扩展内容-用vscode实现文档传输、文本编辑" class="headerlink" title="扩展内容: 用vscode实现文档传输、文本编辑"></a>扩展内容: 用vscode实现文档传输、文本编辑</h2><p>到这里，你已经掌握了linux文件操作的基础，但是每次输入命令难免令人烦躁。这边，我们用免费的vscode作为例子，展示如何用UI界面实现文件目录跳转和文本编辑。这里是<a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/remote/ssh-tutorial">官方文档</a> 。不过更建议直接动手试试：它是开箱即用的类型。</p>
<p>当你用上UI界面后，你会爱上它的！试试看吧！</p>
<h1 id="Shell-3-了解命令"><a href="#Shell-3-了解命令" class="headerlink" title="Shell - 3 了解命令"></a>Shell - 3 了解命令</h1><blockquote>
<p>基础：which,help,man； 扩展：alias</p>
</blockquote>
<p>在这之前，我们已经知道了一系列神秘的命令，每个命令都有自己奇妙的选项和参数。在这一章中，我们将试图去掉一些神秘性，了解并使用基本的命令，甚至创建我们自己的命令。</p>
<p>命令可以是下面四种形式之一：</p>
<ul>
<li>一个可执行程序，就像我们所看到的位于目录&#x2F;usr&#x2F;bin 中的文件一样。 这一类程序可以是用诸如 C 和 C++ 语言写成的程序然后编译得到的二进制文件, 也可以是由诸如 shell，perl，python，ruby 等等脚本语言写成的程序。</li>
<li>一个内建于 shell 自身的命令。bash 支持若干命令，内部叫做 shell 内部命令 (builtins)。例如，cd 命令，就是一个 shell 内部命令。</li>
<li>一个 shell 函数。这些是小规模的 shell 脚本，它们混合到环境变量中。 在后续的章节里，我们将讨论配置环境变量以及书写 shell 函数。但是现在， 仅仅意识到它们的存在就可以了。</li>
<li>一个命令别名。我们可以定义自己的命令，建立在其它命令之上。</li>
</ul>
<p>如何查询命令的种类？ Linux 提供了type命令:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span> <span class="built_in">command</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[me@linuxbox ~]$ <span class="built_in">type</span> <span class="built_in">type</span></span><br><span class="line"><span class="built_in">type</span> is a shell builtins</span><br><span class="line">[me@linuxbox ~]$ <span class="built_in">type</span> <span class="built_in">ls</span></span><br><span class="line"><span class="built_in">ls</span> is aliased to `<span class="built_in">ls</span> --color=<span class="built_in">tty</span>`</span><br><span class="line"><span class="comment"># ls 命令实际上 是 ls 命令加上选项”--color=tty”的别名。现在我们知道为什么 ls 的输出结果是有颜色的！</span></span><br><span class="line">[me@linuxbox ~]$ <span class="built_in">type</span> <span class="built_in">cp</span></span><br><span class="line"><span class="built_in">cp</span> is /bin/cp</span><br></pre></td></tr></table></figure>

<p>但是，很多时候，我们希望了解更多的命令特性，下面将进行介绍。</p>
<h2 id="which-－-显示一个可执行程序的位置"><a href="#which-－-显示一个可执行程序的位置" class="headerlink" title="which － 显示一个可执行程序的位置"></a><strong><strong>which － 显示一个可执行程序的位置</strong></strong></h2><p>有时候在一个操作系统中，不只安装了可执行程序的一个版本。虽然在桌面系统中这并不普遍， 但在大型服务器中却很平常。为了确定所给定的执行程序的准确位置，使用 which 命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">which</span> <span class="built_in">ls</span>                                                             19:53:46</span><br><span class="line">/usr/bin/ls</span><br><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">which</span> nvcc                                                           19:54:53</span><br><span class="line">/usr/local/cuda/bin/nvcc</span><br></pre></td></tr></table></figure>

<h2 id="help-man-－-得到-shell-内建命令的帮助文档"><a href="#help-man-－-得到-shell-内建命令的帮助文档" class="headerlink" title="help,man － 得到 shell 内建命令的帮助文档"></a><strong><strong>help,man － 得到 shell 内建命令的帮助文档</strong></strong></h2><p>关于这一点，我们在前面已经有提过了。例如，想查询cd的使用，比起用Google，你还可以用以下代码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">help</span> <span class="built_in">cd</span> <span class="comment"># bash shell</span></span><br><span class="line"><span class="built_in">cd</span> --<span class="built_in">help</span></span><br><span class="line">man <span class="built_in">cd</span></span><br></pre></td></tr></table></figure>

<p>当然，很多时候，我们并不愿意阅读那么长的说明（”Too Long; Didn’t Read”）,那你可以试试<a target="_blank" rel="noopener" href="https://github.com/tldr-pages/tldr">tldr</a>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ tldr <span class="built_in">cd</span>                                                              19:59:16</span><br><span class="line"></span><br><span class="line">  <span class="built_in">cd</span></span><br><span class="line"></span><br><span class="line">  Change the current working directory.</span><br><span class="line">  More information: https://manned.org/cd.</span><br><span class="line"></span><br><span class="line">  - Go to the specified directory:</span><br><span class="line">    <span class="built_in">cd</span> path/to/directory</span><br><span class="line"></span><br><span class="line">  - Go up to the parent of the current directory:</span><br><span class="line">    <span class="built_in">cd</span> ..</span><br><span class="line"></span><br><span class="line">  - Go to the home directory of the current user:</span><br><span class="line">    <span class="built_in">cd</span></span><br><span class="line"></span><br><span class="line">  - Go to the home directory of the specified user:</span><br><span class="line">    <span class="built_in">cd</span> ~username</span><br><span class="line"></span><br><span class="line">  - Go to the previously chosen directory:</span><br><span class="line">    <span class="built_in">cd</span> -</span><br><span class="line"></span><br><span class="line">  - Go to the root directory:</span><br><span class="line">    <span class="built_in">cd</span> /</span><br></pre></td></tr></table></figure>

<p>如果你想了解一些基本的信息，可以使用whatis:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ whatis <span class="built_in">cd</span>                                                            19:59:19</span><br><span class="line"><span class="built_in">cd</span> (1)               - bash built-in commands, see bash(1)</span><br><span class="line"><span class="built_in">cd</span> (1p)              - change the working directory</span><br></pre></td></tr></table></figure>

<p>当然，很多时候，还希望了解某个特定命令的版本，一般在后面加—version就行了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ python --version                                                     20:25:03</span><br><span class="line">Python 3.6.8</span><br></pre></td></tr></table></figure>

<h2 id="扩展内容：alias-创建你自己的命令"><a href="#扩展内容：alias-创建你自己的命令" class="headerlink" title="扩展内容：alias - 创建你自己的命令"></a>扩展内容：alias - <strong><strong>创建你自己的命令</strong></strong></h2><p>现在是时候，编写自己的命令了！我们将用 alias 命令创建我们自己的命令。但在开始之前，我们需要展示一个命令行小技巧。可以把多个命令放在同一行上，命令之间 用”;”分开。它像这样工作：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command1; command2; command3...</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">⋊&gt; jiangyd@localhost ⋊&gt; ~ <span class="built_in">cd</span> /usr/bin/ ; <span class="built_in">pwd</span>                                                   20:33:11</span><br><span class="line">/usr/bin</span><br></pre></td></tr></table></figure>

<p>那么，许多复杂的命令可以用这种方式完成：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tanglab.pku.edu.cn上使用alphafold所需之吟唱</span></span><br><span class="line">[jiangyd@localhost bin]$ module load anaconda3/anaconda3-2021.11</span><br><span class="line">[jiangyd@localhost bin]$ <span class="built_in">source</span> activate</span><br><span class="line">(base) [jiangyd@localhost bin]$ conda activate alphafold</span><br><span class="line">(alphafold) [jiangyd@localhost bin]$ <span class="built_in">cd</span> /smb/jiangyd/alphafold-multitimer/alphafold/</span><br><span class="line">(alphafold) [jiangyd@localhost alphafold]$ <span class="built_in">pwd</span></span><br><span class="line">/smb/jiangyd/alphafold-multitimer/alphafold</span><br></pre></td></tr></table></figure>

<p>这些代码可以简化成</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">module load anaconda3/anaconda3-2021.11; <span class="built_in">source</span> activate; conda activate alphafold; <span class="built_in">cd</span> /smb/jiangyd/alphafold-multitimer/alphafold/</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[jiangyd@localhost ~]$ module load anaconda3/anaconda3-2021.11; <span class="built_in">source</span> activate; conda activate alphafold; <span class="built_in">cd</span> /smb/jiangyd/alphafold-multitimer/alphafold/</span><br><span class="line">(alphafold) [jiangyd@localhost alphafold]$ <span class="built_in">pwd</span></span><br><span class="line">/smb/jiangyd/alphafold-multitimer/alphafold</span><br></pre></td></tr></table></figure>

<p>可以看到，二者完全一致。那么，对于如此复杂的命令组合，我们能否创建一个简单的命令来代替这一整套流程呢？</p>
<p>首先，我们需要像一个新的名字<strong>。</strong> 比方说”test”。在使用”test”之前，最好先查明”test”命令名是否已经存在于系统中。 为此，可以使用 type 命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[jiangyd@localhost alphafold]$ <span class="built_in">type</span> <span class="built_in">test</span></span><br><span class="line"><span class="built_in">test</span> is a shell <span class="built_in">builtin</span></span><br></pre></td></tr></table></figure>

<p>哦！”test”名字已经被使用了。试一下“startaf2”:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[jiangyd@localhost alphafold]$ <span class="built_in">type</span> startaf2</span><br><span class="line">bash: <span class="built_in">type</span>: startaf2: not found</span><br></pre></td></tr></table></figure>

<p>太棒了！它没有被占用，现在，用它来命名上述的一整套命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># alias &lt;new_name&gt;=&quot;&lt;code_string&gt;&quot;</span></span><br><span class="line"><span class="comment"># 等号前后没有空格</span></span><br><span class="line"><span class="built_in">alias</span> startaf2=<span class="string">&quot;module load anaconda3/anaconda3-2021.11; source activate; conda activate alphafold; cd /smb/jiangyd/alphafold-multitimer/alphafold/&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>来试试吧：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[jiangyd@localhost alphafold]$ startaf2</span><br><span class="line">(alphafold) [jiangyd@localhost alphafold]$ <span class="built_in">pwd</span></span><br><span class="line">/smb/jiangyd/alphafold-multitimer/alphafold</span><br></pre></td></tr></table></figure>

<p>太棒了！看看我们的别名吧：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(alphafold) [jiangyd@localhost alphafold]$ <span class="built_in">type</span> startaf2</span><br><span class="line">startaf2 is aliased to `module load anaconda3/anaconda3-2021.11; <span class="built_in">source</span> activate; conda activate alphafold; <span class="built_in">cd</span> /smb/jiangyd/alphafold-multitimer/alphafold/<span class="string">&#x27;</span></span><br></pre></td></tr></table></figure>

<p>如果不需要了，你也可以删掉它：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unalias</span> startaf2</span><br></pre></td></tr></table></figure>

<p>但是，在命令行中定义别名有点个小问题。当你的 shell 会话结束时，它们会消失。因此，你可以把它放在~&#x2F;.bashrc里，这样你每次启动bash shell就会自动完成定义了！其他shell也是类似的方法，试试看编写一些简单的口令吧,比如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 放入.bashrc </span></span><br><span class="line"><span class="comment"># vim ~/.bashrc</span></span><br><span class="line"><span class="built_in">alias</span> la=<span class="string">&quot;ls -alt&quot;</span></span><br><span class="line"><span class="built_in">alias</span> start_http_proxy=<span class="string">&quot;export http_proxy=&#x27;127.0.0.1:7890&#x27;;export https_proxy=&#x27;127.0.0.1:7890&#x27;;&quot;</span></span><br><span class="line"><span class="built_in">alias</span> stop_http_proxy=<span class="string">&quot;export http_proxy=&#x27;&#x27;;export https_proxy=&#x27;&#x27;;&quot;</span></span><br></pre></td></tr></table></figure> 
      <!-- reward -->
      
      <div id="reword-out">
        <div id="reward-btn">
          打赏
        </div>
      </div>
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://yidajiang.top/2022/11/08/20221108-LinuxTutorial1/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rd/" rel="tag">rd</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/2022/11/11/20221111-IntroductionfornewPKUer/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            Introduction:面向大一同学的分享
          
        </div>
      </a>
    
    
      <a href="/2022/11/04/Tanglab%20Tutorial%20%E9%9D%A2%E5%90%91%E7%A7%91%E7%A0%94%E4%BA%BA%E5%91%98%E7%9A%84Markdown%E5%BA%94%E7%94%A8%E6%95%99%E7%A8%8B/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">Tutorial:面向科研人员的Markdown应用教程</div>
      </a>
    
  </nav>

   
<!-- valine评论 -->
<div id="vcomments-box">
  <div id="vcomments"></div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script>
<script>
  new Valine({
    el: "#vcomments",
    app_id: "HH054clEBSp3zPIVLhYS16ro-gzGzoHsz",
    app_key: "Mwn90eOTeY4CYb4hhTD0hj2t",
    path: window.location.pathname,
    avatar: "monsterid",
    placeholder: "给我的文章加点评论吧~",
    recordIP: true,
  });
  const infoEle = document.querySelector("#vcomments .info");
  if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
    infoEle.childNodes.forEach(function (item) {
      item.parentNode.removeChild(item);
    });
  }
</script>
<style>
  #vcomments-box {
    padding: 5px 30px;
  }

  @media screen and (max-width: 800px) {
    #vcomments-box {
      padding: 5px 0px;
    }
  }

  #vcomments-box #vcomments {
    background-color: #fff;
  }

  .v .vlist .vcard .vh {
    padding-right: 20px;
  }

  .v .vlist .vcard {
    padding-left: 10px;
  }
</style>

 
   
     
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2021-2024
        <i class="ri-heart-fill heart_icon"></i> Yida Jiang
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/img/bridge.png" alt="沙"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags/%E6%97%85%E8%A1%8C/">旅行</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags/%E5%A8%B1%E4%B9%90/">娱乐</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2021/02/15/about/">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯奶茶吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/img/alipay.png">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/img/wepay.png">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->
 <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.6/unpacked/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
  var ayerConfig = {
    mathjax: true,
  };
</script>

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->
 
<script src="/js/clickBoom2.js"></script>
 
<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"PluginRootPath":"live2dw/","PluginJsPath":"lib/","PluginModePath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/wanko.model.json"},"display":{"hOffset":10,"vOffset":-20,"superSample":2,"position":"right","width":150,"height":300},"mobile":{"show":true,"scale":1,"hHeadPos":0.5,"vHeadPos":0.618},"react":{"opacity":0.7,"opacityOnHover":0.2},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/"});</script></body>

</html>